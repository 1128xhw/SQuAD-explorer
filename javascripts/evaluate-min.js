function normalize_answer(r){function n(r){var n=/[.^\/|#*(-=>:;?{&<[!'_+`)@$\]"~\\%},]/g;return r.replace(n,"")}function e(r){return r.toLowerCase(r)}function t(r){var n=/\b(a|an|the)\b/g;return r.replace(n," ")}function o(r){return r.replace(/\s\s+/g," ").trim()}return o(t(e(n(r))))}function compute_common(r,n){function e(r){var n={};return r.forEach(function(r){n[r]||(n[r]=0),n[r]+=1}),n}var t=e(r),o=e(n),a={};for(var c in t)if(o[c]){var u=Math.min(t[c],o[c]);a[c]=u}return a}function f1_score(r,n){var e=normalize_answer(r).split(" "),t=normalize_answer(n).split(" "),o=compute_common(e,t),a=Object.keys(o).map(function(r){return o[r]}).reduce(function(r,n){return r+n},0);if(0===a)return 0;var c=1*a/e.length,u=1*a/t.length,i=2*c*u/(c+u);return i}function exact_match_score(r,n){return normalize_answer(r)===normalize_answer(n)}function metric_max_over_ground_truths(r,n,e){for(var t=[],o=0;o<e.length;o++){var a=r(n,e[o]);t.push(a)}return Math.max.apply(null,t)}window.exact_match_score=exact_match_score,window.f1_score=f1_score,window.metric_max_over_ground_truths=metric_max_over_ground_truths;